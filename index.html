<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Go Brandon Go</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
            margin: 0;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        .video-container {
            margin: 20px 0;
        }
        iframe {
            width: 100%;
            height: 315px;
            border: none;
        }
        #track-info {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f9f9f9;
            display: inline-block;
            max-width: 400px;
            text-align: left;
        }
        #track-info img {
            border-radius: 5px;
            margin-right: 15px;
        }
        #track-info h2 {
            margin: 0;
        }
        #track-info p {
            margin: 5px 0;
        }
        #playback-controls {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Go Brandon Go</h1>
        <p>Welcome to Go Brandon Go! I would like to document my journey to running my first half marathon! I will be running in the OUC Orlando Half Marathon race on December 7th. I plan on livestreaming this event so that you can follow me along and cheer me on from wherever you are! Still ironing out the logistics. In the meantime, I will be uploading my long runs in the weeks leading up to the race. Thank you for your support!</p>

        <!-- Embedded YouTube video -->
        <div class="video-container">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/P52StUox2bQ?si=sg-0u2AeZeRZghGT" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        </div>

        <!-- Spotify Now Playing Widget -->
        <div id="track-info">
            <p>Loading Spotify track...</p>
        </div>

        <!-- Playback Controls -->
        <div id="playback-controls">
            <button onclick="play()">Play</button>
            <button onclick="pause()">Pause</button>
        </div>

    </div>

    <!-- Include the Spotify Web Playback SDK -->
    <script src="https://sdk.scdn.co/spotify-player.js"></script>
    <script>
        // Spotify Web Playback SDK initialization
        window.onSpotifyWebPlaybackSDKReady = () => {
            const token = 'YOUR_ACCESS_TOKEN'; // Replace with your Spotify access token

            const player = new Spotify.Player({
                name: 'Go Brandon Go Player',
                getOAuthToken: cb => { cb(token); }
            });

            // Error handling
            player.addListener('initialization_error', ({ message }) => console.error(message));
            player.addListener('authentication_error', ({ message }) => console.error(message));
            player.addListener('account_error', ({ message }) => console.error(message));
            player.addListener('playback_error', ({ message }) => console.error(message));

            // Playback status updates
            player.addListener('player_state_changed', state => {
                if (!state || !state.track_window || !state.track_window.current_track) {
                    document.querySelector('#track-info').innerHTML = '<p>Not Playing</p>';
                    return;
                }

                const { current_track } = state.track_window;
                document.querySelector('#track-info').innerHTML = `
                    <h2>${current_track.name}</h2>
                    <p>by ${current_track.artists.map(artist => artist.name).join(', ')}</p>
                    <img src="${current_track.album.images[0].url}" alt="${current_track.name}" width="100">
                `;
            });

            // Connect to the player
            player.connect();
        };

        // Play and Pause functions
        function play() {
            // Assuming the player is already initialized and connected
            const player = Spotify.Player.getInstance();
            if (player) {
                player.resume().catch(err => console.error(err));
            }
        }

        function pause() {
            const player = Spotify.Player.getInstance();
            if (player) {
                player.pause().catch(err => console.error(err));
            }
        }
    </script>
</body>
</html>
